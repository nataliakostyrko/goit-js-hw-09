{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FORM_DATA_KEY = \"feedback-form-state\";\nconst formData = {\n    email: ``,\n    message: ''\n};  \nconst feedbackForm = document.querySelector(\".feedback-form\");\n\nfeedbackForm.addEventListener('input', () => {\n  const userEmail = feedbackForm.elements.email.value.trim();\n  const userMessage = feedbackForm.elements.message.value.trim();\n\n    formData.email = userEmail;\n    formData.message = userMessage;\n    localStorage.setItem(FORM_DATA_KEY, JSON.stringify(formData));\n});\n\nfeedbackForm.addEventListener('submit', (event) => {\n    const email = feedbackForm.elements.email.value;\n    const message = feedbackForm.elements.message.value;\n    \n    if (email === '' || message === '') {\n    alert('Fill please all fields');\n    event.preventDefault();\n  } else {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(FORM_DATA_KEY)));\n    localStorage.removeItem(FORM_DATA_KEY);\n    feedbackForm.reset();\n  } \n});\nfunction parseData(key = 'empty') {\n  const data = localStorage.getItem(key);\n  try {\n    return JSON.parse(data);\n  } catch (error) {\n    console.log(error.name);\n    return null;\n  }\n}\n\nfunction loadData() {\n  const parsedData = parseData(FORM_DATA_KEY) || {};\n\n  feedbackForm.elements.email.value = parsedData.email || '';\n  feedbackForm.elements.message.value = parsedData.message || '';\n}\n\nloadData();\n"],"names":["FORM_DATA_KEY","formData","feedbackForm","userEmail","userMessage","event","email","message","parseData","key","data","error","loadData","parsedData"],"mappings":"oDAAA,MAAMA,EAAgB,sBAChBC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EACMC,EAAe,SAAS,cAAc,gBAAgB,EAE5DA,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMC,EAAYD,EAAa,SAAS,MAAM,MAAM,OAC9CE,EAAcF,EAAa,SAAS,QAAQ,MAAM,OAEtDD,EAAS,MAAQE,EACjBF,EAAS,QAAUG,EACnB,aAAa,QAAQJ,EAAe,KAAK,UAAUC,CAAQ,CAAC,CAChE,CAAC,EAEDC,EAAa,iBAAiB,SAAWG,GAAU,CAC/C,MAAMC,EAAQJ,EAAa,SAAS,MAAM,MACpCK,EAAUL,EAAa,SAAS,QAAQ,MAE1CI,IAAU,IAAMC,IAAY,IAChC,MAAM,wBAAwB,EAC9BF,EAAM,eAAc,IAEpBA,EAAM,eAAc,EACpB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQL,CAAa,CAAC,CAAC,EAC3D,aAAa,WAAWA,CAAa,EACrCE,EAAa,MAAK,EAEtB,CAAC,EACD,SAASM,EAAUC,EAAM,QAAS,CAChC,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAI,CACF,OAAO,KAAK,MAAMC,CAAI,CACvB,OAAQC,EAAO,CACd,eAAQ,IAAIA,EAAM,IAAI,EACf,IACR,CACH,CAEA,SAASC,GAAW,CAClB,MAAMC,EAAaL,EAAUR,CAAa,GAAK,CAAA,EAE/CE,EAAa,SAAS,MAAM,MAAQW,EAAW,OAAS,GACxDX,EAAa,SAAS,QAAQ,MAAQW,EAAW,SAAW,EAC9D,CAEAD,EAAU"}